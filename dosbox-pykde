#!/usr/bin/python
import os, sys

from kdecore import KCmdLineArgs

from widgets import AboutData
from widgets import MainApplication
from widgets import MainWindow
from config import config

if __name__ == '__main__':
    aboutData = AboutData()
    # I don't understand this part
    KCmdLineArgs.init(sys.argv, aboutData)

    # setup application
    app = MainApplication()
    app.config = config
    # setup dcop and register the application
    dcop = app.dcopClient()
    appid = dcop.registerAs('dosbox-pykde')
    win = MainWindow(None)
    win.show()
    # set main window in application
    app.setMainWidget(win)
    # run the application
    app.exec_loop()

    
